<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Восстановление базы данных</title>
    <link rel='icon' type='image/png' href='/favicon.png'>
    <link rel="stylesheet" href="style.css">
    <!-- Font Awesome для иконок -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script type="text/javascript" src="/script.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/ru.js"></script>
</head>
<body>
    <div id="container">
        <div id="main">
            <div id="left-frame">
                <h2 id="databases-heading">Базы на сервере</h2>
                <ul id="database-list" role="listbox" aria-labelledby="databases-heading">
                    <!-- Список баз данных будет загружен сюда -->
                </ul>
                <div class="button-group">
                    <button id="delete-db-btn" class="delete-btn" aria-label="Удалить выбранную базу данных">Удалить</button>
                    <button id="backup-db-btn" class="backup-btn" aria-label="Создать бэкап выбранной базы данных">Бэкап</button>
                    <button id="refresh-db-btn" class="refresh-btn left" aria-label="Обновить список баз данных">Обновить</button>
                </div>
            </div>
            <div id="right-frame">
                <h2 id="restore-heading">Восстановление базы данных</h2>
                <form id="restore-form" method="post" aria-labelledby="restore-heading">
                    <div class="form-group">
                        <label for="backup-select">Выберите базу данных из бэкапа:</label>
                        <div class="input-group">
                            <select name="backupBaseName" id="backup-select" required aria-required="true">
                                <option value="" disabled selected>Выберите бэкап</option>
                            </select>
                            <button type="button" id="refresh-backups-btn" class="refresh-btn right" aria-label="Обновить список бэкапов">Обновить</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="new-db-name">Имя базы данных на сервере:</label>
                        <div class="input-group">
                            <input type="text" name="newDbName" id="new-db-name" placeholder="Введите имя новой базы" required aria-required="true">
                            <button type="button" id="clear-db-name-btn" class="clear-btn" aria-label="Очистить поле имени базы данных">Очистить</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="restore-datetime">Восстановить на дату и время:</label>
                        <div class="input-group">
                            <input type="text" name="restoreDateTime" id="restore-datetime" value="__.__.____ __:__:__" maxlength="19" aria-label="Дата и время для восстановления">
                            <button type="button" id="datetime-picker-btn" class="calendar-btn" aria-label="Выбрать дату и время">
                                <i class="fas fa-calendar-alt"></i>
                            </button>
                            <button type="button" id="set-current-datetime-btn" class="now-btn" aria-label="Установить текущую дату и время">Сейчас</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="backup-end-times">Доступные даты окончания бэкапов:</label>
                        <div class="input-group">
                            <select name="backupEndTimes" id="backup-end-times" multiple aria-label="Даты окончания бэкапов">
                                <option value="" disabled selected>Выберите бэкап для отображения дат</option>
                            </select>
                            <button type="button" id="refresh-backup-times-btn" class="refresh-btn right" aria-label="Обновить список дат окончания бэкапов">Обновить</button>
                        </div>
                    </div>
                    <div id="confirmation-section" class="confirmation" style="display: none;" role="alert" aria-live="assertive">
                        <label>Внимание: База данных с таким именем уже существует. Вы уверены, что хотите перезаписать ее?</label>
                    </div>
                    <div id="button-container">
                        <button type="submit" id="restore-db-btn" class="submit-btn" aria-label="Восстановить базу данных">Восстановить базу данных</button>
                        <div id="confirm-restore-buttons" style="display: none;">
                            <button type="button" id="confirm-restore-btn" class="confirm-btn" aria-label="Подтвердить перезапись и восстановление">Подтвердить</button>
                            <button type="button" id="cancel-confirm-restore-btn" class="cancel-btn" aria-label="Отменить восстановление">Отменить</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <div id="bottom-frame">
            <ul id="brief-log" role="log" aria-labelledby="log-heading" aria-live="polite">
                <!-- Краткий лог будет загружен сюда -->
            </ul>
        </div>
    </div>
</body>
</html>
